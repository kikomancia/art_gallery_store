<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Register Painting Item</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container mt-5">
        <h2 class="mb-4">Register Painting Item</h2>
        <form action="php_code/painting_register.php" method="POST" enctype="multipart/form-data">

            <div class="mb-3">
                <label for="pnt_name" class="form-label">Painting Name</label>
                <input type="text" class="form-control" id="pnt_name" name="pnt_name" required>
            </div>
            <div class="mb-3">
                <label for="descriptions" class="form-label">Descriptions</label>
                <textarea class="form-control" id="descriptions" name="descriptions" rows="3" required></textarea>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="number" step="0.01" class="form-control" id="price" name="price" required>
            </div>
            <div class="mb-3">
                <label for="total_qty" class="form-label">Total Quantity</label>
                <input type="number" class="form-control" id="total_qty" name="total_qty" required>
            </div>

            <div class="mb-3">
                <label for="img" class="form-label">Painting Image</label>
                <input type="file" class="form-control" id="img" name="img" accept="image/*" required>
                <div class="form-text">Only the image link will be saved to the database. The file will be stored in the
                    image folder.</div>
            </div>
            <button type="submit" class="btn btn-primary">Register Painting</button>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.querySelector('form').addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(this);

            fetch('php_code/painting_register.php', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (Array.isArray(data) && data[0] === 200) {
                        alert('Registration successful!');
                        this.reset();
                    } else {
                        alert('Registration failed. Please try again.');
                    }
                })
                .catch(error => {
                    // alert('An error occurred. Please try again.');
                });
        });
    </script>

</body>

</html>